from gtts import gTTS
import os

text = """옛날 아주 먼 옛날, 호랑이가 담배 피우던 시절이었어요. 깊은 산골 마을에 마음씨 착한 나무꾼이 살고 있었습니다. 그는 몹시 가난했지만, 홀로 계신 어머니를 모시며 누구보다 성실하게 하루하루를 보냈지요.

어느 무더운 여름날이었어요. 나무꾼은 여느 때처럼 지게를 지고 깊은 산속으로 들어갔습니다. 땀을 뻘뻘 흘리며 맑은 연못가 옆 큰 참나무를 베기 시작했어요.

"쿵! 쿵! 쿵!"

우렁찬 도끼질 소리가 산속에 울려 퍼졌습니다. 그런데 그만, 땀에 젖은 손이 미끄러지는 바람에 도끼가 손에서 쑥 빠져버리고 말았습니다.

"어어, 안 돼!"

나무꾼이 손을 뻗을 새도 없이, 도끼는 포물선을 그리며 연못 속으로 떨어졌습니다. "풍덩!"

잠잠하던 수면 위로 물보라가 일더니, 도끼는 깊은 물 속으로 가라앉아 보이지 않았습니다. 나무꾼은 털썩 주저앉아 엉엉 울기 시작했어요. "아이고, 이를 어쩌나. 그 도끼는 내 전 재산인데... 도끼가 없으면 나무를 할 수 없고, 나무를 못 하면 우리 어머니 쌀밥도 못 지어 드리는데..."

나무꾼의 구슬픈 울음소리가 연못에 메아리칠 때였어요. 갑자기 연못 물이 부글부글 끓어오르더니, 하얀 연기와 함께 산신령님이 ‘펑’ 하고 나타났습니다. 하얀 수염을 길게 늘어뜨린 산신령님은 인자한 목소리로 물었습니다.

"여봐라, 나무꾼아. 어찌하여 그리 서럽게 울고 있느냐?"

나무꾼은 눈물을 훔치며 대답했습니다. "산신령님, 제가 실수로 하나뿐인 쇠도끼를 연못에 빠뜨렸습니다. 제발 제 도끼를 찾아주세요."

산신령님은 고개를 끄덕이더니 물속으로 사라졌습니다. 잠시 후, 산신령님은 눈이 부시도록 번쩍이는 금도끼를 들고 나타났습니다.

"이 번쩍번쩍 빛나는 금도끼가 네 도끼냐?"

나무꾼은 눈이 휘둥그레졌지만, 고개를 세차게 저었습니다. "아닙니다, 아닙니다. 제 도끼는 그렇게 귀한 것이 아닙니다."

산신령님은 다시 물속으로 들어갔다가 이번에는 반짝이는 은도끼를 들고 나왔습니다.

"그럼, 이 은은하게 빛나는 은도끼가 네 도끼냐?"

나무꾼은 이번에도 손사래를 쳤습니다. "아닙니다, 산신령님. 제 것은 그렇게 예쁜 도끼가 아닙니다. 아주 낡고 무딘 쇠도끼입니다."

산신령님은 다시 물속으로 사라졌다가, 이번에는 낡고 녹슨 쇠도끼를 들고 나타났습니다. 나무꾼은 그제야 활짝 웃으며 소리쳤어요.

"맞습니다! 맞아요! 그 낡은 쇠도끼가 바로 제 것입니다!"

그러자 산신령님은 껄껄 웃으며 기뻐하셨습니다. "허허허! 참으로 기특하구나. 요즘 세상에 보기 드문 정직한 젊은이로다."

산신령님은 나무꾼의 정직한 마음에 감동하여 이렇게 말했습니다. "네가 욕심을 부리지 않고 정직하게 말했으니, 이 쇠도끼는 물론이고 상으로 금도끼와 은도끼도 모두 너에게 주마."

나무꾼은 넙죽 절을 올리며 감사해했습니다. "산신령님, 정말 감사합니다! 평생 은혜 잊지 않고 착하게 살겠습니다."

그날 저녁, 나무꾼은 금도끼, 은도끼, 쇠도끼를 지게에 싣고 가벼운 발걸음으로 집으로 돌아왔습니다. 그리고 정직한 마음 덕분에 어머니와 함께 오래오래 행복하게 잘 살았답니다."""

print("Generating audio file...")
tts = gTTS(text=text, lang='ko')
output_path = 'public/story.mp3'
tts.save(output_path)
print(f"Saved audio to {output_path}")
